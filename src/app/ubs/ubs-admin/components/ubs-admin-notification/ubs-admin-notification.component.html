<form [formGroup]="form" *ngIf="notification">
  <div class="page-header">
    <button class="back-button">
      <svg width="12" height="18" viewBox="0 0 12 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M11.2676 0.859841C11.6211 1.28412 11.5638 1.91468 11.1395 2.26825L3.0614 9.00002L11.1395 15.7318C11.5638 16.0854 11.6211 16.7159 11.2676 17.1402C10.914 17.5645 10.2834 17.6218 9.85917 17.2682L1.13573 9.99871C0.512049 9.47898 0.512049 8.52107 1.13573 8.00134L9.85917 0.731804C10.2834 0.37824 10.914 0.435564 11.2676 0.859841Z"
          fill="#64727D"
        />
      </svg>
    </button>
    <p class="page-title">Повідомлення</p>
  </div>

  <table class="table-notification-info">
    <thead>
      <tr>
        <th class="col-topic">Тема повідомлення</th>
        <th class="col-event">Подія для активації</th>
        <th class="col-time">Час</th>
        <th class="col-period">Повторення</th>
        <th class="col-status">Стан</th>
        <th class="col-actions"></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          {{ lang === 'ua' ? notification.topic.ua : notification.topic.en }}
        </td>
        <td>
          {{ 'ubs-notifications.triggers.' + notification.trigger | translate }}
        </td>
        <td>
          {{ 'ubs-notifications.time.' + notification.time | translate }}
        </td>
        <td>
          {{ notification.period | cron: lang }}
        </td>
        <td>
          {{ 'ubs-notifications.statuses.' + notification.status | translate }}
        </td>
        <td class="col-actions">
          <div>
            <button class="edit-button" (click)="onEditNotificationSettings()">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M10.4128 2.11216L9.92976 1.62913C9.53924 1.23861 8.90607 1.23861 8.51555 1.62913L8.29644 1.84824L10.1937 3.74549L10.4128 3.52638C10.8033 3.13585 10.8033 2.50269 10.4128 2.11216ZM2.66696 7.47772L7.58933 2.55535L9.48658 4.45259L4.56421 9.37496L2.66696 7.47772ZM2.10061 8.32558L1.61589 10.426L3.71635 9.94132L2.10061 8.32558ZM1.36573 11.5101L4.02771 10.8957C4.39295 10.8115 4.72715 10.6262 4.99221 10.3612L11.1199 4.23348C11.9009 3.45244 11.9009 2.1861 11.1199 1.40506L10.6369 0.922026C9.85582 0.140977 8.58949 0.140976 7.80844 0.922025L1.68075 7.04972C1.4157 7.31477 1.23046 7.64898 1.14618 8.01422L0.531875 10.6762L0.53071 10.6812L0.486976 10.8708L0.371663 11.3705C0.33012 11.5505 0.491458 11.7118 0.671476 11.6703L1.17116 11.555L1.36068 11.5112L1.36573 11.5101Z"
                  fill="#444E55"
                />
              </svg>
            </button>
            <button class="delete-button">
              <svg width="10" height="12" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M4 0C3.44772 0 3 0.447715 3 1V1.5H2.02855H0.5C0.223858 1.5 0 1.72386 0 2C0 2.27614 0.223858 2.5 0.5 2.5H1.02852C1.02854 2.51839 1.02906 2.53688 1.03009 2.55547L1.47453 10.5555C1.50397 11.0854 1.94226 11.5 2.47299 11.5H7.52701C8.05774 11.5 8.49603 11.0854 8.52547 10.5555L8.96991 2.55547C8.97094 2.53688 8.97146 2.51839 8.97148 2.5H9.5C9.77614 2.5 10 2.27614 10 2C10 1.72386 9.77614 1.5 9.5 1.5H7.97145H7V1C7 0.447715 6.55228 0 6 0H4ZM6 1.5V1H4V1.5H6ZM2.02855 2.5L7.97145 2.5L7.52701 10.5L2.47299 10.5L2.02855 2.5ZM6 4C6.27614 4 6.5 4.22386 6.5 4.5V8.5C6.5 8.77614 6.27614 9 6 9C5.72386 9 5.5 8.77614 5.5 8.5V4.5C5.5 4.22386 5.72386 4 6 4ZM4.5 4.5C4.5 4.22386 4.27614 4 4 4C3.72386 4 3.5 4.22386 3.5 4.5V8.5C3.5 8.77614 3.72386 9 4 9C4.27614 9 4.5 8.77614 4.5 8.5V4.5Z"
                  fill="#444E55"
                />
              </svg>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <table class="table-notification-edit">
    <thead>
      <th class="col-platform">Платформа</th>
      <th class="col-text">Текст</th>
      <th class="col-action"></th>
    </thead>
    <tbody>
      <tr>
        <td>
          Email
          <!-- {{ lang === 'ua' ? notification.topic.ua : notification.topic.en }} -->
          <!-- <input class="edit-topic" formControlName="topic" type="text" *ngIf="isInfoEditable; else notEditableTopic" />
          <ng-template #notEditableTopic>{{ lang === 'ua' ? notification.topic.ua : notification.topic.en }}</ng-template> -->
        </td>
        <td>
          {{ lang === 'ua' ? notification.text.ua : notification.text.en }}
          <!-- <textarea class="edit-text" formControlName="text" *ngIf="isInfoEditable; else notEditableText"></textarea>
          <ng-template #notEditableText>{{ lang === 'ua' ? notification.text.ua : notification.text.en }}</ng-template> -->
        </td>
        <td class="col-action">
          <div>
            <button class="edit-button" (click)="onEditNotificationInfo()">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M10.4128 2.11216L9.92976 1.62913C9.53924 1.23861 8.90607 1.23861 8.51555 1.62913L8.29644 1.84824L10.1937 3.74549L10.4128 3.52638C10.8033 3.13585 10.8033 2.50269 10.4128 2.11216ZM2.66696 7.47772L7.58933 2.55535L9.48658 4.45259L4.56421 9.37496L2.66696 7.47772ZM2.10061 8.32558L1.61589 10.426L3.71635 9.94132L2.10061 8.32558ZM1.36573 11.5101L4.02771 10.8957C4.39295 10.8115 4.72715 10.6262 4.99221 10.3612L11.1199 4.23348C11.9009 3.45244 11.9009 2.1861 11.1199 1.40506L10.6369 0.922026C9.85582 0.140977 8.58949 0.140976 7.80844 0.922025L1.68075 7.04972C1.4157 7.31477 1.23046 7.64898 1.14618 8.01422L0.531875 10.6762L0.53071 10.6812L0.486976 10.8708L0.371663 11.3705C0.33012 11.5505 0.491458 11.7118 0.671476 11.6703L1.17116 11.555L1.36068 11.5112L1.36573 11.5101Z"
                  fill="#444E55"
                />
              </svg>
            </button>
            <button class="delete-button">
              <svg width="10" height="12" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M4 0C3.44772 0 3 0.447715 3 1V1.5H2.02855H0.5C0.223858 1.5 0 1.72386 0 2C0 2.27614 0.223858 2.5 0.5 2.5H1.02852C1.02854 2.51839 1.02906 2.53688 1.03009 2.55547L1.47453 10.5555C1.50397 11.0854 1.94226 11.5 2.47299 11.5H7.52701C8.05774 11.5 8.49603 11.0854 8.52547 10.5555L8.96991 2.55547C8.97094 2.53688 8.97146 2.51839 8.97148 2.5H9.5C9.77614 2.5 10 2.27614 10 2C10 1.72386 9.77614 1.5 9.5 1.5H7.97145H7V1C7 0.447715 6.55228 0 6 0H4ZM6 1.5V1H4V1.5H6ZM2.02855 2.5L7.97145 2.5L7.52701 10.5L2.47299 10.5L2.02855 2.5ZM6 4C6.27614 4 6.5 4.22386 6.5 4.5V8.5C6.5 8.77614 6.27614 9 6 9C5.72386 9 5.5 8.77614 5.5 8.5V4.5C5.5 4.22386 5.72386 4 6 4ZM4.5 4.5C4.5 4.22386 4.27614 4 4 4C3.72386 4 3.5 4.22386 3.5 4.5V8.5C3.5 8.77614 3.72386 9 4 9C4.27614 9 4.5 8.77614 4.5 8.5V4.5Z"
                  fill="#444E55"
                />
              </svg>
            </button>
          </div>
        </td>
      </tr>

      <tr>
        <td>
          Telegram
          <!-- {{ lang === 'ua' ? notification.topic.ua : notification.topic.en }} -->
          <!-- <input class="edit-topic" formControlName="topic" type="text" *ngIf="isInfoEditable; else notEditableTopic" />
          <ng-template #notEditableTopic>{{ lang === 'ua' ? notification.topic.ua : notification.topic.en }}</ng-template> -->
        </td>
        <td>
          {{ lang === 'ua' ? notification.text.ua : notification.text.en }}
          <!-- <textarea class="edit-text" formControlName="text" *ngIf="isInfoEditable; else notEditableText"></textarea>
          <ng-template #notEditableText>{{ lang === 'ua' ? notification.text.ua : notification.text.en }}</ng-template> -->
        </td>
        <td class="col-action">
          <div>
            <button class="edit-button" (click)="onEditNotificationInfo()">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M10.4128 2.11216L9.92976 1.62913C9.53924 1.23861 8.90607 1.23861 8.51555 1.62913L8.29644 1.84824L10.1937 3.74549L10.4128 3.52638C10.8033 3.13585 10.8033 2.50269 10.4128 2.11216ZM2.66696 7.47772L7.58933 2.55535L9.48658 4.45259L4.56421 9.37496L2.66696 7.47772ZM2.10061 8.32558L1.61589 10.426L3.71635 9.94132L2.10061 8.32558ZM1.36573 11.5101L4.02771 10.8957C4.39295 10.8115 4.72715 10.6262 4.99221 10.3612L11.1199 4.23348C11.9009 3.45244 11.9009 2.1861 11.1199 1.40506L10.6369 0.922026C9.85582 0.140977 8.58949 0.140976 7.80844 0.922025L1.68075 7.04972C1.4157 7.31477 1.23046 7.64898 1.14618 8.01422L0.531875 10.6762L0.53071 10.6812L0.486976 10.8708L0.371663 11.3705C0.33012 11.5505 0.491458 11.7118 0.671476 11.6703L1.17116 11.555L1.36068 11.5112L1.36573 11.5101Z"
                  fill="#444E55"
                />
              </svg>
            </button>
            <button class="delete-button">
              <svg width="10" height="12" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M4 0C3.44772 0 3 0.447715 3 1V1.5H2.02855H0.5C0.223858 1.5 0 1.72386 0 2C0 2.27614 0.223858 2.5 0.5 2.5H1.02852C1.02854 2.51839 1.02906 2.53688 1.03009 2.55547L1.47453 10.5555C1.50397 11.0854 1.94226 11.5 2.47299 11.5H7.52701C8.05774 11.5 8.49603 11.0854 8.52547 10.5555L8.96991 2.55547C8.97094 2.53688 8.97146 2.51839 8.97148 2.5H9.5C9.77614 2.5 10 2.27614 10 2C10 1.72386 9.77614 1.5 9.5 1.5H7.97145H7V1C7 0.447715 6.55228 0 6 0H4ZM6 1.5V1H4V1.5H6ZM2.02855 2.5L7.97145 2.5L7.52701 10.5L2.47299 10.5L2.02855 2.5ZM6 4C6.27614 4 6.5 4.22386 6.5 4.5V8.5C6.5 8.77614 6.27614 9 6 9C5.72386 9 5.5 8.77614 5.5 8.5V4.5C5.5 4.22386 5.72386 4 6 4ZM4.5 4.5C4.5 4.22386 4.27614 4 4 4C3.72386 4 3.5 4.22386 3.5 4.5V8.5C3.5 8.77614 3.72386 9 4 9C4.27614 9 4.5 8.77614 4.5 8.5V4.5Z"
                  fill="#444E55"
                />
              </svg>
            </button>
          </div>
        </td>
      </tr>

      <tr>
        <td>
          Viber
          <!-- {{ lang === 'ua' ? notification.topic.ua : notification.topic.en }} -->
          <!-- <input class="edit-topic" formControlName="topic" type="text" *ngIf="isInfoEditable; else notEditableTopic" />
          <ng-template #notEditableTopic>{{ lang === 'ua' ? notification.topic.ua : notification.topic.en }}</ng-template> -->
        </td>
        <td>
          {{ lang === 'ua' ? notification.text.ua : notification.text.en }}
          <!-- <textarea class="edit-text" formControlName="text" *ngIf="isInfoEditable; else notEditableText"></textarea>
          <ng-template #notEditableText>{{ lang === 'ua' ? notification.text.ua : notification.text.en }}</ng-template> -->
        </td>
        <td class="col-action">
          <div>
            <button class="edit-button" (click)="onEditNotificationInfo()">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M10.4128 2.11216L9.92976 1.62913C9.53924 1.23861 8.90607 1.23861 8.51555 1.62913L8.29644 1.84824L10.1937 3.74549L10.4128 3.52638C10.8033 3.13585 10.8033 2.50269 10.4128 2.11216ZM2.66696 7.47772L7.58933 2.55535L9.48658 4.45259L4.56421 9.37496L2.66696 7.47772ZM2.10061 8.32558L1.61589 10.426L3.71635 9.94132L2.10061 8.32558ZM1.36573 11.5101L4.02771 10.8957C4.39295 10.8115 4.72715 10.6262 4.99221 10.3612L11.1199 4.23348C11.9009 3.45244 11.9009 2.1861 11.1199 1.40506L10.6369 0.922026C9.85582 0.140977 8.58949 0.140976 7.80844 0.922025L1.68075 7.04972C1.4157 7.31477 1.23046 7.64898 1.14618 8.01422L0.531875 10.6762L0.53071 10.6812L0.486976 10.8708L0.371663 11.3705C0.33012 11.5505 0.491458 11.7118 0.671476 11.6703L1.17116 11.555L1.36068 11.5112L1.36573 11.5101Z"
                  fill="#444E55"
                />
              </svg>
            </button>
            <button class="delete-button">
              <svg width="10" height="12" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M4 0C3.44772 0 3 0.447715 3 1V1.5H2.02855H0.5C0.223858 1.5 0 1.72386 0 2C0 2.27614 0.223858 2.5 0.5 2.5H1.02852C1.02854 2.51839 1.02906 2.53688 1.03009 2.55547L1.47453 10.5555C1.50397 11.0854 1.94226 11.5 2.47299 11.5H7.52701C8.05774 11.5 8.49603 11.0854 8.52547 10.5555L8.96991 2.55547C8.97094 2.53688 8.97146 2.51839 8.97148 2.5H9.5C9.77614 2.5 10 2.27614 10 2C10 1.72386 9.77614 1.5 9.5 1.5H7.97145H7V1C7 0.447715 6.55228 0 6 0H4ZM6 1.5V1H4V1.5H6ZM2.02855 2.5L7.97145 2.5L7.52701 10.5L2.47299 10.5L2.02855 2.5ZM6 4C6.27614 4 6.5 4.22386 6.5 4.5V8.5C6.5 8.77614 6.27614 9 6 9C5.72386 9 5.5 8.77614 5.5 8.5V4.5C5.5 4.22386 5.72386 4 6 4ZM4.5 4.5C4.5 4.22386 4.27614 4 4 4C3.72386 4 3.5 4.22386 3.5 4.5V8.5C3.5 8.77614 3.72386 9 4 9C4.27614 9 4.5 8.77614 4.5 8.5V4.5Z"
                  fill="#444E55"
                />
              </svg>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- <p class="section-title">Налаштування повідомлення</p>

  <table class="table-notification-settings">
    <thead>
      <th class="col-platform">Платформа</th>
      <th class="col-event">Подія для активації</th>
      <th class="col-period">Повторювати</th>
      <th class="col-status">Стан</th>
      <th class="col-action"></th>
    </thead>
    <tbody>
      <tr>
        <td>Електронна пошта</td>
        <td>
          <mat-select class="edit-trigger" formControlName="trigger" *ngIf="isSettingsEditable; else notEditableTrigger">
            <mat-option *ngFor="let trigger of triggers" [value]="trigger">
              {{ 'ubs-notifications.triggers.' + trigger | translate }}
            </mat-option>
          </mat-select>
          <ng-template #notEditableTrigger>{{ 'ubs-notifications.triggers.' + notification.trigger | translate }}</ng-template>
        </td>
        <td>
          <div class="select-period">
            <div *ngIf="isSettingsEditable; else notEditableSchedule">
              {{ schedule | cron : lang }}
              <button class="edit-button" [matMenuTriggerFor]="selectPeriod">
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M10.4128 2.11216L9.92976 1.62913C9.53924 1.23861 8.90607 1.23861 8.51555 1.62913L8.29644 1.84824L10.1937 3.74549L10.4128 3.52638C10.8033 3.13585 10.8033 2.50269 10.4128 2.11216ZM2.66696 7.47772L7.58933 2.55535L9.48658 4.45259L4.56421 9.37496L2.66696 7.47772ZM2.10061 8.32558L1.61589 10.426L3.71635 9.94132L2.10061 8.32558ZM1.36573 11.5101L4.02771 10.8957C4.39295 10.8115 4.72715 10.6262 4.99221 10.3612L11.1199 4.23348C11.9009 3.45244 11.9009 2.1861 11.1199 1.40506L10.6369 0.922026C9.85582 0.140977 8.58949 0.140976 7.80844 0.922025L1.68075 7.04972C1.4157 7.31477 1.23046 7.64898 1.14618 8.01422L0.531875 10.6762L0.53071 10.6812L0.486976 10.8708L0.371663 11.3705C0.33012 11.5505 0.491458 11.7118 0.671476 11.6703L1.17116 11.555L1.36068 11.5112L1.36573 11.5101Z"
                    fill="#444E55"
                  />
                </svg>
              </button>
              <mat-menu #selectPeriod="matMenu">
                <app-cron-picker (click)="$event.stopPropagation()" (scheduleSelected)="onScheduleSelected($event)"></app-cron-picker>
              </mat-menu>
            </div>
            <ng-template #notEditableSchedule>{{ notification.period | cron : lang }}</ng-template>
          </div>
        </td>
        <td>
          <mat-select class="edit-status" formControlName="status" *ngIf="isSettingsEditable; else notEditableStatus">
            <mat-option *ngFor="let status of statuses" [value]="status">
              {{ 'ubs-notifications.statuses.' + status | translate }}
            </mat-option>
          </mat-select>
          <ng-template #notEditableStatus>{{ 'ubs-notifications.statuses.' + notification.status | translate }}</ng-template>
        </td>
        <td class="col-action">
          <div>
            <button class="edit-button" (click)="onEditNotificationSettings()">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M10.4128 2.11216L9.92976 1.62913C9.53924 1.23861 8.90607 1.23861 8.51555 1.62913L8.29644 1.84824L10.1937 3.74549L10.4128 3.52638C10.8033 3.13585 10.8033 2.50269 10.4128 2.11216ZM2.66696 7.47772L7.58933 2.55535L9.48658 4.45259L4.56421 9.37496L2.66696 7.47772ZM2.10061 8.32558L1.61589 10.426L3.71635 9.94132L2.10061 8.32558ZM1.36573 11.5101L4.02771 10.8957C4.39295 10.8115 4.72715 10.6262 4.99221 10.3612L11.1199 4.23348C11.9009 3.45244 11.9009 2.1861 11.1199 1.40506L10.6369 0.922026C9.85582 0.140977 8.58949 0.140976 7.80844 0.922025L1.68075 7.04972C1.4157 7.31477 1.23046 7.64898 1.14618 8.01422L0.531875 10.6762L0.53071 10.6812L0.486976 10.8708L0.371663 11.3705C0.33012 11.5505 0.491458 11.7118 0.671476 11.6703L1.17116 11.555L1.36068 11.5112L1.36573 11.5101Z"
                  fill="#444E55"
                />
              </svg>
            </button>
            <button class="delete-button">
              <svg width="10" height="12" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M4 0C3.44772 0 3 0.447715 3 1V1.5H2.02855H0.5C0.223858 1.5 0 1.72386 0 2C0 2.27614 0.223858 2.5 0.5 2.5H1.02852C1.02854 2.51839 1.02906 2.53688 1.03009 2.55547L1.47453 10.5555C1.50397 11.0854 1.94226 11.5 2.47299 11.5H7.52701C8.05774 11.5 8.49603 11.0854 8.52547 10.5555L8.96991 2.55547C8.97094 2.53688 8.97146 2.51839 8.97148 2.5H9.5C9.77614 2.5 10 2.27614 10 2C10 1.72386 9.77614 1.5 9.5 1.5H7.97145H7V1C7 0.447715 6.55228 0 6 0H4ZM6 1.5V1H4V1.5H6ZM2.02855 2.5L7.97145 2.5L7.52701 10.5L2.47299 10.5L2.02855 2.5ZM6 4C6.27614 4 6.5 4.22386 6.5 4.5V8.5C6.5 8.77614 6.27614 9 6 9C5.72386 9 5.5 8.77614 5.5 8.5V4.5C5.5 4.22386 5.72386 4 6 4ZM4.5 4.5C4.5 4.22386 4.27614 4 4 4C3.72386 4 3.5 4.22386 3.5 4.5V8.5C3.5 8.77614 3.72386 9 4 9C4.27614 9 4.5 8.77614 4.5 8.5V4.5Z"
                  fill="#444E55"
                />
              </svg>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table> -->

  <div class="controls">
    <button class="cancel-button" (click)="(null)">Cancel</button>
    <button class="submit-button" (click)="(null)" [disabled]="!form.valid">Save changes</button>
  </div>
</form>
