<div class='container'>
  <div [formGroup]='userInfoDto' class='form'>
    <div (click)='openDetails()' class='empty_card'>
      <img *ngIf='!pageOpen' alt='arrow up' src='assets/img/ubs-admin-orders/arrow_up.svg' />
      <img *ngIf='pageOpen' alt='arrow down' src='assets/img/ubs-admin-orders/arrow_down.svg' />
      <h3 class='form__headline'>{{ 'customer-info.title' | translate }}</h3>
    </div>
    <div *ngIf='pageOpen'>
      <div class='form__wrapper row d-flex'>
        <div class='form__block col-md-4 col-sm-6'>
          <div class='form-group'>
            <p class='form__subtitle'>
              {{ 'customer-info.customer.title' | translate }}
            </p>
            <div class='person-name'>
              <label class='form__label' for='customer-name'>
                {{ 'customer-info.customer.name-label' | translate }}
              </label>
              <label class='form__label' for='customer-surname'>
                {{ 'customer-info.customer.surname-label' | translate }}
              </label>
              <input class='name-input form-control' disabled id='customer-surname'
                     placeholder='{{ userInfo.customerName }}' type='text' />
              <input class='name-input form-control' disabled id='customer-name'
                     placeholder='{{ userInfo.customerSurName }}' type='text' />
            </div>
          </div>
          <div class='form-group'>
            <label class='form__label' for='customer-tel'>
              {{ 'customer-info.customer.tel-label' | translate }}
            </label>
            <input class='form-control' disabled id='customer-tel' placeholder='{{ userInfo.customerPhoneNumber }}'
                   type='tel' />
          </div>
          <div class='form-group'>
            <label class='form__label' for='customer-email'>
              {{ 'customer-info.customer.email-label' | translate }}
            </label>
            <input class='form-control' disabled id='customer-email' placeholder='{{ userInfo.customerEmail }}'
                   type='email' />
          </div>
        </div>
        <div class='form__block col-md-4 col-sm-6'>
          <div class='form-group'>
            <p class='form__subtitle'>{{ 'customer-info.recipient.title' | translate }}</p>
            <div class='person-name'>
              <label class='form__label' for='recipient-name'>
                <div
                  *ngIf="userInfoDto.controls['recipientName'].invalid && userInfoDto.controls['recipientName'].touched">
                  <div class='validation-message'>
                    {{ getErrorMessage(userInfoDto.controls['recipientName']) | translate }}
                  </div>
                </div>
                {{ 'customer-info.recipient.name-label' | translate }}
              </label>
              <label class='form__label' for='recipient-surname'>

                <div
                  *ngIf="userInfoDto.controls['recipientSurName'].invalid && userInfoDto.controls['recipientSurName'].touched">
                  <div class='validation-message'>
                    {{ getErrorMessage(userInfoDto.controls['recipientSurName']) | translate }}
                  </div>
                </div>
                {{ 'customer-info.recipient.surname-label' | translate }}
              </label>
              <input class='name-input form-control' formControlName='recipientName' id='recipient-name'
                     type='text' />
              <input class='name-input form-control' formControlName='recipientSurName' id='recipient-surname'
                     type='text' />
            </div>
          </div>
          <div class="form-group">
            <label class="form__label" for="recipient-tel">
              {{ 'customer-info.recipient.tel-label' | translate }}
            </label>
            <input
              [imask]='{ mask: phoneMask }'
              [unmask]='true'
              class='form-control'
              formControlName='recipientPhoneNumber'
              id='recipient-tel'
              placeholder="{{ 'customer-info.recipient.tel-placeholder' | translate }}"
              type='tel'
            />
          </div>
          <div *ngIf="userInfoDto.controls['recipientPhoneNumber'].invalid && userInfoDto.controls['recipientPhoneNumber'].touched">
            <div class='error-message'>
              {{ getErrorMessage(userInfoDto.controls['recipientPhoneNumber']) | translate }}
            </div>
          </div>
          <div class="form-group">
            <label class="form__label" for="recipient-email">
              {{ 'customer-info.recipient.email-label' | translate }}
            </label>
            <input
              class='form-control'
              formControlName='recipientEmail'
              id='recipient-email'
              placeholder="{{ 'customer-info.recipient.email-placeholder' | translate }}"
              type='email'
            />
          </div>
        </div>
      </div>
      <div class="violation">
        <p class="form__subtitle">
          {{ 'customer-info.violation.title' | translate }}
        </p>
        <div class="violation__block d-flex">
          <div class="violation__item">
            <small class="form__label">
              {{ 'customer-info.violation.amount' | translate }}
            </small>
            <p>{{ totalUserViolations }}</p>
          </div>
          <div class="violation__item">
            <small class="form__label">
              {{ 'customer-info.violation.current-order' | translate }}
            </small>
            <p (click)='userViolationForCurrentOrder && openModal(true)' [class.active]='userViolationForCurrentOrder'>
              {{ userViolationForCurrentOrder }}
            </p>
          </div>
        </div>
        <button (click)='openModal(false)' [disabled]='userViolationForCurrentOrder >= 1' class='btn' type='button'>
          {{ 'customer-info.violation.button' | translate }}
        </button>
      </div>
    </div>
  </div>
  <hr />
</div>
