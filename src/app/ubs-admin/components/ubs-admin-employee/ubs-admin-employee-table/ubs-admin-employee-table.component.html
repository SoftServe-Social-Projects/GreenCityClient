<div>
  <mat-form-field appearance="standard">
    <mat-label>Введіть тут</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="" #input />
  </mat-form-field>
  <div
    id="table-container"
    class="scrolling"
    infiniteScroll
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="50"
    (scrolled)="onScroll()"
    [scrollWindow]="true"
  >
    <table id="table" class="table" mat-table [dataSource]="dataSource" *ngIf="!isLoading; else spinner" matSort>
      <ng-container class="column.field" matColumnDef="fullName">
        <mat-header-cell *matHeaderCellDef>
          <div>
            <span class="column-title">Ім'я працівника</span>
          </div>
        </mat-header-cell>
        <mat-cell *matCellDef="let row" class="column.field">
          <div>
            <span>{{ row.firstName }} {{ row.lastName }}</span>
          </div>
        </mat-cell>
      </ng-container>

      <ng-container class="column.field" matColumnDef="position">
        <mat-header-cell *matHeaderCellDef>
          <div>
            <span class="column-title">Посада</span>
          </div>
        </mat-header-cell>
        <mat-cell *matCellDef="let row" class="column.field">
          <div>
            <span *ngFor="let col of row.employeePositions">{{ col.name }} <br /></span>
          </div>
        </mat-cell>
      </ng-container>

      <ng-container class="column.field" matColumnDef="location">
        <mat-header-cell *matHeaderCellDef>
          <div>
            <span class="column-title">Станція приймання</span>
          </div>
        </mat-header-cell>
        <mat-cell *matCellDef="let row" class="column.field">
          <div>
            <span *ngFor="let col of row.receivingStations">{{ col.name }} <br /></span>
          </div>
        </mat-cell>
      </ng-container>

      <ng-container class="column.field" matColumnDef="email">
        <mat-header-cell *matHeaderCellDef>
          <div>
            <span class="column-title">email</span>
          </div>
        </mat-header-cell>
        <mat-cell *matCellDef="let row" class="column.field">
          <div>
            <span>{{ row.email }} </span>
          </div>
        </mat-cell>
      </ng-container>

      <ng-container class="column.field" matColumnDef="phoneNumber">
        <mat-header-cell *matHeaderCellDef>
          <div>
            <span class="column-title">Телефон</span>
          </div>
        </mat-header-cell>
        <mat-cell *matCellDef="let row" class="column.field">
          <div>
            <span>{{ row.phoneNumber }}</span>
          </div>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns" #tableHeaderRow class="tableHeaderRow"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </table>
    <app-spinner *ngIf="isUpdateTable"></app-spinner>
    <ng-template #spinner>
      <app-spinner></app-spinner>
    </ng-template>
  </div>
</div>
