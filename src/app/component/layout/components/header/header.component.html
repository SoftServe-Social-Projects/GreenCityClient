<header role="banner" [ngClass]="toggleBurgerMenu ? 'burger-modal_open main' : 'main'">
  <div class="header_wrp container">
    <div class="header_container">
      <a class="header_logo" [routerLink]="['/']" routerLinkActive="active-link" [routerLinkActiveOptions]="{ exact: true }">
        <img [src]="headerImageList.greenCityLogo" alt="GreenCity home" />
      </a>
      <div class="header_navigation-menu" aria-label="Header Navigation Menu">
        <nav [ngClass]="toggleBurgerMenu ? 'header_navigation-menu-left-col' : 'header_navigation-menu-left'">
          <ul>
            <li role="eco-news">
              <a [routerLink]="['/news']" routerLinkActive="active-link" routerLinkActiveOptions="{exact:true}">
                {{ 'user.lower-nav-bar.eco-events' | translate }}
              </a>
            </li>
            <li role="tips and tricks">
              <a [routerLink]="['/tips']" routerLinkActive="active-link" routerLinkActiveOptions="{exact:true}">
                {{ 'user.lower-nav-bar.tips' | translate }}
              </a>
            </li>
            <li role="map">
              <a
                [routerLink]="['/map']"
                routerLinkActive="active-link"
                routerLinkActiveOptions="{exact:true}"
                routerLinkActive="active-link"
                routerLinkActiveOptions="{exact:true}"
              >
                {{ 'user.lower-nav-bar.map' | translate }}
              </a>
            </li>
            <li role="about us">
              <a [routerLink]="['/about']" routerLinkActive="active-link" routerLinkActiveOptions="{exact:true}">
                {{ 'user.lower-nav-bar.about-us' | translate }}
              </a>
            </li>
            <li role="profile">
              <a [routerLink]="['/profile', getUserId()]" routerLinkActive="active-link" routerLinkActiveOptions="{exact:true}">
                {{ 'user.lower-nav-bar.my-habits' | translate }}
              </a>
            </li>
            <hr class="header_line container" [ngClass]="{ 'd-none': !toggleBurgerMenu }" />
            <div *ngIf="!isLoggedIn; then userLoggedInSmall; else userNotLoggerInSmall"></div>
            <ng-template #userLoggedInSmall>
              <li *ngIf="toggleBurgerMenu" class="header_mobile-menu-sign-in" role="sign in link">
                <a class="header_sign-in-link tertiary-global-button" (click)="openAuthModalWindow('sign-in')">
                  {{ 'top-bar.sign-in' | translate }}
                </a>
              </li>
            </ng-template>
            <ng-template #userNotLoggerInSmall>
              <li class="header_mobile-menu-item header_user-name tertiary-global-button" role="user name">
                {{ name }}
              </li>
              <li class="header_mobile-menu-item" role="settings">
                <a (click)="openSettingDialog()">
                  {{ 'nav-bar.user-settings' | translate }}
                </a>
              </li>
              <li *ngIf="isLoggedIn && isAdmin" class="header_mobile-menu-item">
                <a [href]="managementLink" target="_blank" role="management">
                  {{ 'nav-bar.management' | translate }}
                </a>
              </li>
              <li class="header_mobile-menu-item" role="sign out">
                <a (click)="signOut()">
                  {{ 'nav-bar.sign-out' | translate }}
                </a>
              </li>
            </ng-template>

            <li class="header_mobile-menu-sign-up" *ngIf="toggleBurgerMenu && !isLoggedIn" (click)="openAuthModalWindow('sign-up')">
              <div class="header_sign-up-btn secondary-global-button" role="link">
                <span>{{ 'top-bar.sign-up' | translate }}</span>
              </div>
            </li>
          </ul>
        </nav>
        <div class="header_navigation-menu-right">
          <ul class="header_navigation-menu-right-list">
            <!-- Search icon -->

            <li
              *ngIf="!isAllSearchOpen"
              class="search-icon"
              role="internal search"
              aria-label="site search"
              (click)="toggleSearchPage()"
              (keydown.enter)="toggleSearchPage()"
              tabindex="0"
            >
              <img [src]="headerImageList.search" alt="Internal search button" aria-hidden="true" />
            </li>
            <!-- Lang switcher -->
            <ul
              [ngClass]="{ 'add-shadow': langDropdownVisible, 'header_lang-switcher-wrp header_navigation-menu-right-list': true }"
              (click)="langDropdownVisible = !langDropdownVisible"
              (keyup.enter)="langDropdownVisible = !langDropdownVisible"
              appCloseDropdown
              (clickOutSide)="autoCloseLangDropDown($event)"
              aria-label="language switcher"
              tabindex="0"
            >
              <li>
                {{ arrayLang[0].lang }}
                <img
                  [src]="headerImageList.arrowDown"
                  alt="language switcher"
                  aria-hidden="true"
                  [ngClass]="langDropdownVisible ? 'header_arrow reverse' : 'header_arrow'"
                />
              </li>
              <ng-container *ngIf="langDropdownVisible">
                <ng-container *ngFor="let lang of arrayLang; index as index">
                  <li *ngIf="index > 0" (click)="changeCurrentLanguage(lang.lang, index)">
                    {{ lang.lang }}
                  </li>
                </ng-container>
              </ng-container>
            </ul>
            <ng-container *ngIf="isLoggedIn">
              <ul
                id="header_user-wrp"
                appCloseDropdown
                (clickOutSide)="autoCloseUserDropDown($event)"
                [ngClass]="{ 'd-none': toggleBurgerMenu, 'add-shadow': dropdownVisible }"
                role="management dropdown"
              >
                <li class="tertiary-global-button" role="user name">
                  <a (click)="toggleDropdown()" (keyup.enter)="toggleDropdown()" class="header_user-name" tabindex="0">
                    <span>{{ name }}</span>
                    <img
                      [src]="headerImageList.arrowDownGreen"
                      alt="arrow down icon"
                      [ngClass]="dropdownVisible ? 'header_arrow reverse' : 'header_arrow'"
                    />
                  </a>
                </li>
                <li [ngClass]="dropdownVisible ? 'drop-down-item' : 'text-hidde'" role="settigns">
                  <a (click)="openSettingDialog()">
                    {{ 'nav-bar.user-settings' | translate }}
                  </a>
                </li>

                <li *ngIf="isLoggedIn && isAdmin" [ngClass]="dropdownVisible ? 'drop-down-item' : 'text-hidde'" role="management">
                  <a [href]="managementLink" target="_blank">
                    {{ 'nav-bar.management' | translate }}
                  </a>
                </li>
                <li [ngClass]="dropdownVisible ? 'drop-down-item' : 'text-hidde'" role="sign out">
                  <a (click)="signOut()">
                    {{ 'nav-bar.sign-out' | translate }}
                  </a>
                </li>
              </ul>
            </ng-container>
            <!-- SIGN IN LINK -->
            <ng-container *ngIf="!isLoggedIn">
              <a
                #signinref
                [ngClass]="{ 'd-none': toggleBurgerMenu }"
                class="header_sign-in-link tertiary-global-button"
                (click)="openAuthModalWindow('sign-in')"
                (keyup.enter)="openAuthModalWindow('sign-in')"
                tabindex="0"
                role="sign in"
              >
                {{ 'top-bar.sign-in' | translate }}
              </a>
            </ng-container>
            <!-- SIGN UP LINK -->
            <li
              class="header_sign-up-link"
              [ngClass]="{ 'd-none': toggleBurgerMenu }"
              *ngIf="!isLoggedIn"
              (click)="openAuthModalWindow('sign-up')"
              (keyup.enter)="openAuthModalWindow('sign-up')"
              role="sign up"
            >
              <div #signupref class="header_sign-up-btn secondary-global-button" tabindex="0">
                <span>{{ 'top-bar.sign-up' | translate }}</span>
              </div>
            </li>
            <!-- Burger BTN -->
            <li class="header_burger-btn" role="mobile">
              <div class="menu-icon-wrapper" (click)="onToggleBurgerMenu()">
                <div [ngClass]="toggleBurgerMenu ? 'menu-icon menu-icon-active' : 'menu-icon'"></div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>
