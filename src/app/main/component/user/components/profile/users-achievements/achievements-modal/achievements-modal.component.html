<div class="main">
  <div class="wrapper">
    <div class="user__wrapper">
      <app-user-profile-image
        class="user-image"
        [imgPath]="userInfo.profilePicturePath"
        [firstName]="userInfo.name"
        [additionalImgClass]="'profile-avatar'"
        tabindex="0"
      >
      </app-user-profile-image>
      <div class="user__data">
        <div class="user__name">{{ userInfo.name }}</div>
        <div class="user__achievements-amount">
          <img src="/assets/img/sidebarIcons/achievement_icon.svg" alt="achievement" />
          {{ achievedAmount$ | async }}
          /
          {{ totalAmount$ | async }}
        </div>
      </div>
      <button
        mat-icon-button
        (click)="close()"
        (keydown.enter)="close()"
        class="btn close-modal-window"
        aria-label="close button"
        tabindex="0"
      >
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <div class="achievements__wrapper">
      <div *ngIf="!selectedCategory">
        <ul class="achievements__list">
          <app-achievement-item
            *ngFor="let category of categories"
            [item]="category"
            [isCategory]="true"
            (selectItem)="onCategorySelect($event)"
          >
          </app-achievement-item>
        </ul>
      </div>

      <div *ngIf="selectedCategory">
        <div class="achievements__title">
          {{ langService.getLangValue(selectedCategory.title, selectedCategory.titleEn) }}
          <button mat-icon-button class="btn" (click)="backToCategories()">
            <mat-icon>keyboard_backspace</mat-icon>
          </button>
        </div>

        <ul class="achievements__list">
          <app-achievement-item *ngFor="let achievement of achievements" [item]="achievement" [isCategory]="false"> </app-achievement-item>
        </ul>
      </div>
    </div>
  </div>
</div>
