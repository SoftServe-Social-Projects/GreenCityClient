<div class="comment-textarea-wrapper">
  <div
    #commentTextarea
    (drop)="$event.preventDefault()"
    appPlaceholderForDiv
    [placeholderText]="placeholder | translate"
    contenteditable="true"
    class="comment-textarea"
    (focus)="onCommentTextareaFocus()"
    (keydown)="onCommentKeyDown($event)"
    (paste)="onPaste($event)"
    tabindex="0"
    [ngClass]="{ invalid: content.errors?.maxlength }"
  ></div>
  <p *ngIf="content.errors?.maxlength" class="error-message">
    {{ 'homepage.eco-news.comment.reply-error-message' | translate }}
  </p>
  <button
    mat-icon-button
    #menuTrigger="matMenuTrigger"
    [matMenuTriggerFor]="dropdown"
    [style.top.px]="cursorPosition?.top"
    [style.left.px]="cursorPosition?.left"
    class="dropdown-trigger"
  ></button>

  <mat-menu #dropdown="matMenu" tabindex="0" class="mat-menu">
    <button mat-menu-item *ngFor="let user of suggestedUsers" class="mat-menu-item" (click)="selectSuggestion(user)">
      <app-user-profile-image
        [imgPath]="user.profilePicture || ''"
        [firstName]="user.userName"
        class="user-img"
        [additionalImgClass]="'comment-tag-img'"
      ></app-user-profile-image>
      <div class="user-name">{{ user.userName }}</div>
    </button>
  </mat-menu>
</div>
