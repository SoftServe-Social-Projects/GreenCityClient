<div class="container" *ngIf="bags.length && personalData">
  <div class="header">
    <h3 class="font-bolt order-title">Ваше замовлення</h3>
  </div>
  <form class="form">
    <div class="w-100 d-flex justify-content-between mb-2">
      <label class="col-3 label m-0">{{ 'order-details.service' | translate }}</label>
      <label class="col-2 label m-0">{{ 'order-details.volume' | translate }}</label>
      <label class="col-2 label m-0">{{ 'order-details.cost' | translate }}</label>
      <label class="col-2 label m-0">{{ 'order-details.number-of-packages' | translate }}</label>
      <label class="col-3 label m-0 text-center">{{ 'order-details.sum' | translate }}</label>
    </div>
    <div class="services">
      <ul class="services-list w-100 p-0 m-0">
        <li class="services-list_item d-flex justify-content-between align-items-baseline" *ngFor="let bag of bags">
          <ng-container *ngIf="bag.quantity">
            <span class="col-3 p-0 m-0 bag-name">{{ bag.name }}</span>
            <span class="col-2 p-0 m-0 bag-name">{{ bag.capacity }} {{ 'order-details.litr' | translate }}</span>
            <span class="col-2 p-0 m-0 bag-name">{{ bag.price }} {{ 'order-details.currency' | translate }}</span>
            <span class="col-2 p-0 m-0 bag-name">{{ bag.quantity }} шт</span>
            <span class="col-3 p-0 m-0 bag-name text-center">
              {{ bag.quantity * bag.price }} {{ 'order-details.currency' | translate }}</span
            >
          </ng-container>
        </li>
      </ul>
    </div>
    <div class="middle">
      <div class="middle-container">
        <div class="showTotal">
          <div class="totalInfo">
            <p class="total-content" [class.d-none]="orderDetails.showTotal === 0">
              <span>{{ 'order-details.order-amount' | translate }} </span>
              <span>
                <strong>{{ orderDetails.total }} {{ 'order-details.currency' | translate }}</strong>
              </span>
            </p>
            <p class="total-content" *ngIf="orderDetails.sectificateSum">
              <span>{{ 'order-details.sertificate' | translate }} </span>
              <span>
                <strong class="money-saved">-{{ orderDetails.showCertificateUsed }} {{ 'order-details.currency' | translate }} </strong>
              </span>
            </p>
            <p class="total-content" *ngIf="orderDetails.pointsToUse">
              <span>{{ 'order-details.bonuses' | translate }} </span>
              <span>
                <strong class="money-saved">-{{ orderDetails.certificateSum }} {{ 'order-details.currency' | translate }}</strong>
              </span>
            </p>
            <p class="total-content">
              <span>{{ 'order-details.amount-due' | translate }} </span>
              <span>
                <strong>{{ orderDetails.finalSum }} {{ 'order-details.currency' | translate }}</strong>
              </span>
            </p>
            <div *ngIf="displayMes" class="validMes">
              <small class="text-danger">{{ 'order-details.min-sum' | translate }}</small>
            </div>
          </div>
        </div>
        <div class="order-info-container d-flex flex-column">
          <div class="order-info" *ngIf="additionalOrders[0] !== ''">
            <p class="order-header">Доставка з еко магазину</p>
            <ul class="order-list d-flex">
              <li class="order-list-item">Номери ваших замовлень: &nbsp;</li>
              <li class="order-list-item" *ngFor="let order of additionalOrders">
                <strong>{{ order }}, &nbsp;</strong>
              </li>
            </ul>
          </div>
          <div class="order-info">
            <p class="order-header">Отримувач</p>
            <ul class="order-list">
              <li class="order-list-item">{{ personalData.firstName }} {{ personalData.lastName }}</li>
              <li class="order-list-item">0{{ personalData.phoneNumber }}</li>
              <li class="order-list-item">{{ personalData.email }}</li>
            </ul>
          </div>
          <div class="order-info m-0">
            <p class="order-header">Адреса вивезення замовлення послуг</p>
            <ul class="order-list">
              <li class="order-list-item">{{ personalData.city }}</li>
              <li class="order-list-item">
                <span>{{ 'submit-order.str' | translate }}{{ personalData.street }}, {{ personalData.houseNumber }}</span
                >, {{ personalData.houseCorpus }}
              </li>
              <li class="order-list-item">{{ personalData.district }}</li>
              <li class="order-list-item" *ngIf="personalData.addressComment">Коментар до адреси: {{ personalData.addressComment }}</li>
              <li class="order-list-item" *ngIf="personalData.orderComment">Коментар до замовлення:{{ orderDetails.orderComment }}</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="bottom_comment">
      <div class="form-group comment">
        <h3 class="bottom_comment_payment">Оплата</h3>
        <p class="choose-payment">Ви можете здійснити оплату одним з вибраних способів нижче.</p>
        <div class="col-12 col-sm-12 p-0">
          <label for="" class="choose-payment-chooser">{{ 'submit-order.choose-payment' | translate }}</label
          ><br />
          <select class="payment-select shadow-none">
            <option value="Fondy">{{ 'submit-order.fondy-card' | translate }}</option>
          </select>
        </div>
      </div>
    </div>
  </form>
</div>

<div class="w-100 d-flex justify-content-between buttons">
  <button class="secondary-global-button btn btn-back" matStepperPrevious>
    <i class="fas fa-chevron-left"></i> &nbsp; {{ 'submit-order.back' | translate }}
  </button>
  <div class="w-100 d-flex justify-content-end">
    <button class="secondary-global-button btn cansel-button btn-main" (click)="cancelUBS()">
      {{ 'order-details.cancel' | translate }}
    </button>
    <button (click)="redirectToOrder()" type="submit" class="primary-global-button btn">{{ 'submit-order.to-order' | translate }}</button>
  </div>
</div>
