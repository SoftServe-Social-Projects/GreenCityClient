<div [formGroup]="dateForm" class="date-location-container">
  <div class="date-container">
    <span class="day">{{ dayNumber + 1 }} {{ 'create-event.day' | translate }}</span>

    <div class="date-time">
      <mat-form-field appearance="outline" class="date">
        <mat-label>{{ 'create-event.choose-date' | translate }}</mat-label>
        <input
          [matDatepickerFilter]="dateFilterBind"
          [matDatepicker]="picker"
          [min]="today"
          autocomplete="false"
          formControlName="date"
          matInput
          ngDefaultControl
        />
        <mat-datepicker-toggle [for]="picker" matSuffix></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error>{{ 'create-event.date-error' | translate }}</mat-error>
        <mat-hint>MMDDYYYY</mat-hint>
      </mat-form-field>

      <ng-container formGroupName="timeRange">
        <div class="time">
          <mat-form-field appearance="outline" class="time-item">
            <mat-label>{{ 'create-event.set-start-time' | translate }}</mat-label>
            <input [matAutocomplete]="startOptions" formControlName="startTime" matInput maxlength="5" />
            <mat-autocomplete #startOptions="matAutocomplete">
              <mat-option *ngFor="let time of $startOptions" [value]="time">
                {{ time }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>

          <h5 class="dash">â€”</h5>

          <mat-form-field appearance="outline" class="time-item">
            <mat-label>{{ 'create-event.set-end-time' | translate }}</mat-label>
            <input [matAutocomplete]="endOptions" formControlName="endTime" matInput maxlength="5" />
            <mat-autocomplete #endOptions="matAutocomplete">
              <mat-option *ngFor="let time of $endOptions" [value]="time">
                {{ time }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
      </ng-container>

      <mat-checkbox (change)="toggleAllDay()" class="all-day" formControlName="allDay"
        >{{ 'create-event.all-day' | translate }}
      </mat-checkbox>
    </div>
  </div>
  <div class="checkbox">
    <mat-checkbox (change)="toggleLocation()" [checked]="isPlace" [disabled]="isPlaceDisabled" class="example-margin">
      {{ 'create-event.event-place' | translate }}
    </mat-checkbox>
    <mat-checkbox (change)="toggleOnline()" [checked]="isOnline" [disabled]="isLinkDisabled" class="example-margin">
      {{ 'create-event.event-online' | translate }}
    </mat-checkbox>
  </div>

  <div *ngIf="isPlace" class="active">
    <mat-label>{{ 'create-event.event-location' | translate }}</mat-label>
    <div class="location-title">
      <mat-form-field appearance="outline" class="location-title-input">
        <mat-label>{{ 'create-event.event-offline-place' | translate }}</mat-label>
        <input #placesRef formControlName="place" matInput placeholder="{{ 'create-event.enter-location' | translate }}" />
      </mat-form-field>
      <mat-checkbox
        (change)="toggleForAllLocations()"
        *ngIf="isLocationSelected && dayNumber === 0"
        [checked]="appliedForAllLocations"
        [color]="'primary'"
        [disabled]="!readyToApplyLocation"
        class="apply-location-checkbox"
      >
        {{ 'create-event.apply-location' | translate }}
      </mat-checkbox>
    </div>
    <div [class.location-error-messege]="place?.touched && place?.invalid" class="tag-place">
      {{ 'create-event.location-required' | translate }}
    </div>

    <div *ngIf="!isLocationDisabled || isFirstDay" class="map-container">
      <google-map (mapClick)="mapClick($event)" [options]="mapOptions" [width]="'100%'" height="410px">
        <map-marker [position]="mapMarkerCoords" />
      </google-map>
    </div>
  </div>

  <div *ngIf="isOnline" class="active">
    <mat-label>{{ 'create-event.event-link' | translate }}</mat-label>
    <mat-form-field appearance="outline" class="link-title">
      <mat-label class="link-title">{{ 'create-event.event-online-link' | translate }}</mat-label>
      <input formControlName="onlineLink" matInput placeholder="{{ 'create-event.enter-link' | translate }}" />
    </mat-form-field>
    <mat-checkbox class="apply-location-checkbox">
      {{ 'create-event.apply-location' | translate }}
    </mat-checkbox>
  </div>
</div>
