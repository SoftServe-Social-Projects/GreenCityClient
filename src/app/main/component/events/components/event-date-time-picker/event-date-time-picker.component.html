<div [formGroup]="dateForm" class="date-location-container">
  <div class="date-container">
    <span class="day">{{ dayNumber + 1 }} {{ 'create-event.day' | translate }}</span>

    <div class="date-time">
      <mat-form-field appearance="outline" class="date">
        <mat-label>{{ 'create-event.choose-date' | translate }}</mat-label>
        <input
          (dateChange)="checkDay()"
          [matDatepickerFilter]="binded"
          [matDatepicker]="picker"
          [min]="today"
          formControlName="date"
          matInput
          ngDefaultControl
        />
        <mat-datepicker-toggle [for]="picker" matSuffix></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <div class="time">
        <mat-form-field appearance="outline" class="time-item">
          <mat-label>{{ 'create-event.set-start-time' | translate }}</mat-label>
          <mat-select formControlName="startTime" ngDefaultControl>
            <mat-option *ngFor="let time of timeArrStart" [value]="time">
              {{ time }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <h5 class="dash">â€”</h5>
        <mat-form-field appearance="outline" class="time-item">
          <mat-label>{{ 'create-event.set-end-time' | translate }}</mat-label>
          <mat-select formControlName="endTime" ngDefaultControl>
            <mat-option *ngFor="let time of timeArrEnd" [value]="time">
              {{ time }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <mat-checkbox (change)="toggleAllDay()" [checked]="checkedAllDay" [disabled]="isAllDayDisabled" class="all-day"
        >{{ 'create-event.all-day' | translate }}
      </mat-checkbox>
    </div>
  </div>
  <div *ngIf="dateForm?.invalid && submitSelected" class="date-error">
    <app-input-error
      [date]="endTime.invalid"
      [formElement]="endTime"
      [isEvent]="true"
      [isStartEventError]="startTime.invalid"
      [numberDate]="date.invalid"
    ></app-input-error>
  </div>
  <div *ngIf="dayNumber === this.duplindex" class="duplix-error">{{ 'create-event.duplicate-event-date' | translate }}</div>
  <div class="checkbox">
    <mat-checkbox (change)="toggleLocation()" [checked]="checkOfflinePlace" [disabled]="isPlaceDisabled" class="example-margin">
      {{ 'create-event.event-place' | translate }}
    </mat-checkbox>
    <mat-checkbox (change)="checkIfOnline()" [checked]="checkOnlinePlace" [disabled]="isLinkDisabled" class="example-margin">
      {{ 'create-event.event-online' | translate }}
    </mat-checkbox>
  </div>

  <div *ngIf="checkOfflinePlace" class="active">
    <mat-label>{{ 'create-event.event-location' | translate }}</mat-label>
    <div class="location-title">
      <mat-form-field appearance="outline" class="location-title-input">
        <mat-label>{{ 'create-event.event-offline-place' | translate }}</mat-label>
        <input #placesRef formControlName="place" matInput placeholder="{{ 'create-event.enter-location' | translate }}" />
      </mat-form-field>
      <mat-checkbox
        (change)="toggleForAllLocations()"
        *ngIf="isLocationSelected && dayNumber === 0 && !firstFormIsSucceed"
        [checked]="appliedForAllLocations"
        [color]="'primary'"
        [disabled]="!readyToApplyLocation"
        class="apply-location-checkbox"
      >
        {{ 'create-event.apply-location' | translate }}
      </mat-checkbox>
    </div>
    <div [class.location-error-messege]="place?.touched && place?.invalid" class="tag-place">
      {{ 'create-event.location-required' | translate }}
    </div>

    <div *ngIf="!isLocationDisabled || isFirstDay" class="map-container">
      <google-map (mapClick)="mapClick($event)" [options]="mapOptions" [width]="'100%'" height="410px">
        <map-marker [position]="mapMarkerCoords" />
      </google-map>
    </div>
  </div>

  <div *ngIf="checkOnlinePlace" class="active">
    <mat-label>{{ 'create-event.event-link' | translate }}</mat-label>
    <mat-form-field appearance="outline" class="link-title">
      <mat-label class="link-title">{{ 'create-event.event-online-link' | translate }}</mat-label>
      <input formControlName="onlineLink" matInput placeholder="{{ 'create-event.enter-link' | translate }}" />
    </mat-form-field>
    <mat-checkbox
      (change)="toggleForAllLinks()"
      *ngIf="dayNumber === 0 && !firstFormIsSucceed"
      [checked]="appliedForAllLink"
      class="apply-location-checkbox"
    >
      {{ 'create-event.apply-location' | translate }}
    </mat-checkbox>
  </div>
</div>
